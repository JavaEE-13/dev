<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h1>The Hot Blogs</h1>
            <header>
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class ="col-6">
                        <h:outputText value="#{blogController.selected.title}"></h:outputText>
                        <h:form>
                            <h:commandLink value = "#{blogController.selected.author.userName}" 
                                           action= "#{followController.getAuthorDetail(blogController.selected.author)}"/> 
                        </h:form>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" 
                                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    <div class ="col-4">
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <div class = "my-2 my-lg-0">
                                <h:form>
                                    <h:commandLink value = "Sign Out" action = "#{userController.prepareSignOut}"/>
                                </h:form>

                                <h:form>
                                    <h:commandLink value = "#{userController.selected.userName}" action="mweb.xhtml"/> 
                                </h:form>
                                <button type = "button" class="btn btn-dark" onClick = "location = 'post.xhtml'">
                                    post
                                </button>
                            </div>
                        </div>
                    </div>s
                </nav>
            </header>

        </ui:define>
        <ui:define name="body">
            <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
            </h:panelGroup>
            <p:outputPanel style="width: 80%;height: 300px">
                <p:scrollPanel style="width:80%;height:100px"> 
                    <p:outputPanel>
                        #{blogController.selected.content}
                    </p:outputPanel>
                </p:scrollPanel>

            </p:outputPanel>

        </ui:define>
    </ui:composition>

</html>    

<!--

<header>
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class ="col-6">
                        <h:outputText value="#{blogController.selected.title}"></h:outputText>
                        <h:form>
                            <h:commandLink value = "#{blogController.selected.author.userName}" 
                                           action="#{followController.getAuthorDetail(blogController.selected.author)}"/> 
                        </h:form>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" 
                                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    <div class ="col-4">
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <div class = "my-2 my-lg-0">
                                <h:form>
                                    <h:commandLink value = "Sign Out" action = "#{userController.prepareSignOut}"/>
                                </h:form>

                                <h:form>
                                    <h:commandLink value = "#{userController.selected.userName}" action="mweb.xhtml"/> 
                                </h:form>
                                <button type = "button" class="btn btn-dark" onClick = "location = 'post.xhtml'">
                                    post
                                </button>
                            </div>
                        </div>
                    </div>s
                </nav>
            </header>

        </ui:define>
        <ui:define name="body">
            <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
            </h:panelGroup>
            <p:outputPanel style="width: 80%;height: 300px">
                <p:scrollPanel style="width:80%;height:100px"> 
                    <p:outputPanel>
#{blogController.selected.content}
</p:outputPanel>
</p:scrollPanel>

</p:outputPanel>

<p:scrollPanel style="width:80%;height:200px"> 
<h:form>
<h:dataTable value="#{commentController.items}" var="item" border="10" cellpadding="20" rules="all" style="border:solid 0px" width="100%"   >
    <h:column>
        <h:outputText value="${commentController.MygetComment(blogController.selected.blogNo)}"></h:outputText>
    </h:column>
</h:dataTable>
</h:form>
</p:scrollPanel>
</p:outputPanel>
<br/>
<h:form> 

<p:editor id="editor" widgetVar="editorWidget" value="#{commentController.selected.content}" required="true" requiredMessage="请输入回帖内容！！！" width="600" maxlength="200"/>

<h:panelGrid columns="2" style="margin-top: 10px">
<h:commandButton value = "comment" action = "#{commentController.createComment()}"/>
<p:commandButton value="回复" oncomplete="PF('dlg').show()" action="ThePost"/>
</h:panelGrid>
</h:form>-->


